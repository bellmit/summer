INSERT INTO `groovy`(`id`, `content`, `createTime`, `updateTime`, `className`, `is_delete`) VALUES (1, 'package com.summer.springboot.groovy.shell.service.impl\r\n\r\nimport com.summer.springboot.groovy.mapper.UserMapper\r\nimport com.summer.springboot.groovy.service.BaseGroovySpot\r\nimport groovy.sql.Sql\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.stereotype.Component\r\n\r\nimport javax.sql.DataSource\r\n\r\n@Component(\"groovyBean\")\r\nclass GroovyGroovySpot implements BaseGroovySpot {\r\n\r\n    @Autowired\r\n    private UserMapper db0UserMapper;\r\n\r\n    @Autowired\r\n//    @Qualifier(\"db0\")\r\n    private final DataSource dataSource0;\r\n\r\n    @Override\r\n    public String test() {\r\n        String result\r\n        int i = db0UserMapper.addUserInfo(\"lpw1111\", \"test1111\")\r\n        if (i > 0) {\r\n            result = \"添加成功11111111\"\r\n            println(\"添加成功11111111\")\r\n        } else {\r\n            result = \"添加失败\"\r\n            println(\"添加失败\")\r\n        }\r\n        return result\r\n    }\r\n\r\n    @Override\r\n    public String test2() {\r\n        def sql = new Sql(dataSource0)\r\n        sql.eachRow(\"SELECT id, name, password FROM user_info WHERE id >= 0\") {\r\n            row -> println(\"id = \" + row[0] +\r\n                    \", name = \" + row[1] +\r\n                    \", password = \" + row[2])\r\n        }\r\n        return \"success\"\r\n    }\r\n}\r\n', '2020-04-13 17:01:07', '2020-04-13 17:01:10', 'BaseGroovySpot', '0');
INSERT INTO `groovy`(`id`, `content`, `createTime`, `updateTime`, `className`, `is_delete`) VALUES (2, 'package com.summer.springboot.groovy.shell.service.impl;\r\n\r\nimport com.summer.common.utils.FastJsonUtil;\r\nimport com.summer.springboot.groovy.model.Article;\r\nimport com.summer.springboot.groovy.service.DataConvertService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\n\r\n/**\r\n * @Author liuwei\r\n * @Description //TODO\r\n * @Date 1$ 1$\r\n **/\r\n@Service(\"demoDataConvertService\")\r\n@Slf4j\r\nclass DataConvertServiceImpl implements DataConvertService {\r\n    @Override\r\n    public Article convert(String content) {\r\n        log.info(\"demo---------------------\");\r\n\r\n        return FastJsonUtil.json2Bean(content,Article.class);\r\n    }\r\n}\r\n', '2020-04-13 19:30:53', '2020-04-13 19:30:56', 'demoDataConvertService', '0');
INSERT INTO `groovy`(`id`, `content`, `createTime`, `updateTime`, `className`, `is_delete`) VALUES (3, 'package com.summer.springboot.groovy.service.impl;\r\n\r\nimport com.summer.common.utils.FastJsonUtil;\r\nimport com.summer.springboot.groovy.model.Article;\r\nimport com.summer.springboot.groovy.service.DataConvertService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\n\r\n/**\r\n * @Author liuwei\r\n * @Description //TODO\r\n * @Date 1$ 1$\r\n **/\r\n@Service(\"demo1DataConvertService\")\r\n@Slf4j\r\npublic class DataConvertServiceImplTest implements DataConvertService {\r\n    @Override\r\n    public Article convert(String content) {\r\n        log.info(\"demo111111111111111\");\r\n        return FastJsonUtil.json2Bean(content,Article.class);\r\n    }\r\n}\r\n', '2020-04-13 19:31:36', '2020-04-13 19:31:39', 'demo1DataConvertService', '0');
